{% extends "Login_Page/login_base_template.html" %}
{% load static %}

{% block css_block %}
  <link rel="stylesheet" href="{% static 'css/register_students.css' %}">
{% endblock %}

{% block title %}
    NCC (National Cadet Corps)
{% endblock %}

{% block script %}
<script>
    
  function updateLabel(input) {
      const label = document.querySelector(`label[for="${input.id}"]`);
      if (input.files.length > 0) {
          label.textContent = input.files[0].name; // Update label with file name
      } else {
          label.textContent = input.id === "inputGroupFile01" ? "Upload Excel File" : "Upload Photos Folder";
      }
  }

  function updateFolderLabel(input) {
      const label = document.querySelector(`label[for="${input.id}"]`);
      if (input.files.length > 0) {
          const fullPath = input.files[0].webkitRelativePath;
          const folderName = fullPath.split('/')[0]; // Extract folder name
          label.textContent = folderName; // Update label with folder name
      } else {
          label.textContent = "Upload Photos Folder";
      }
  }
</script>
{% endblock script %}

{% block start %}
    <div class="center-area">
        {% if messages %}
            <div class="alert alert-primary alert-dismissible" id="success-alert">
                {% for message in messages %}
                    {{message}}
                {% endfor %}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endif %}
        <form class="register-students" method="post" enctype="multipart/form-data" action="/print-certificate/">
            {% csrf_token %}
            <header>Download Certificates</header>
            <input name="download" hidden/>
            <div class="submit-container">
                <button type="Download" class="submit-btn">Download</button>
            </div>
        </form>
        <form class="register-students" method="post" enctype="multipart/form-data" action="/print-certificate/">
            {% csrf_token %}
            <header>Download Certificate</header>
            <header>by Regiment No.</header>
            <input name="single" hidden/>
            <div class="form-group admcd">
                <label>Regiment No.</label>
                <input
                  class="form-control"
                  id="cbse_no"
                  type="text"
                  name="cbse_no"
                  placeholder="Please enter Regiment No."
                  value=""
                />
              </div>
            <div class="submit-container">
                <button type="Download" class="submit-btn">Download</button>
            </div>
        </form>
        <form class="register-students" method="post" enctype="multipart/form-data" action="/print-certificate/">
            {% csrf_token %}
            <header>Download Duplicate</header>
            <header>Certificate by Regiment No.</header>
            <input name="duplicate" hidden/>
            <div class="form-group admcd">
                <label>Regiment No.</label>
                <input
                  class="form-control"
                  id="cbse_no"
                  type="text"
                  name="cbse_no"
                  placeholder="Please enter Regiment No."
                  value=""
                />
              </div>
            <div class="submit-container">
                <button type="Download" class="submit-btn">Download</button>
            </div>
        </form>
    </div>
{% endblock %}